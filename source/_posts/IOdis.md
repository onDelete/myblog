---
title: I/O重定向
date: 2016-11-21 23:28:19
tags: IO
categories: linux
---
### I/O重定向
在UNIX哲学中，任何东西都是一个文件。我们在使用命令的时候，总是会在终端得到一些输出的结果，或者一些状态的信息。这里得到的标准输出和标准错误，默认情况下，标准输出和标准错误都连接到屏幕，而标准输入则与键盘相连。有时候我们需要做持久化处理，就是把一些输出的结果当作一个文件保存在磁盘上。，这时我们就需要，让输出的结果更改输出的方向，让它不再输出到屏幕。而是输出到文件中。
#### 重定向标准输出
使用`>`符可以重定向标准输出：
`cmds > file`
但是有些时候我们使用命令不当，会导致控制台出现错误信息，要是我们不小心使用上面的方式，那么就不会将命令执行的结果输出到文件中，并且更重要的是由于我们在执行重定向操作的时候没有将新的内容写入文件，此时文件的内容会被覆盖，但是由于输出的错误信息输出到了控制台，那么我们此时的文件就没有内容，文件的长度为零。现在我们知道`>`符有覆盖文件内容的作用，那么使用：
`> file`
可以创建一个新的空文件，因为我们什么都没有输出到新创建的这个文件中。
如果我们想要追加一些内容到一个文件中，那么就需要我们使用新命令`>>`：
`cmds >> file`
#### 重定向标准错误
上面说当我们试图把一个错误的命令输入一个文件的时候，会将错误的信息输出到屏幕上，那么应该如何解决重定向标准错误的问题呢？
要想重定向标准错误，需要使用文件描述符。标准输入、输出、错误的描述符分别为0、1、2.使用方式：
`cmds 2> error.txt`
要想同时重定向标准输出和错误，可以：
`cmds > all.txt 2&>1`或者更加简单的：
`cmds &> all.txt`